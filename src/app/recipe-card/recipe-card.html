<h3 class="name">{{recipe().name}}</h3>
<p class="rating">Rating: {{recipe().rating}}/5</p>

<hr>

@if (recipe().image !== undefined) {
  <img [src]="recipe().image" alt="" [title]="recipe().name" (load)="onImageLoad()" (error)="onImageError()">
  @if (imageError) {
    <div title="error loading &quot;{{recipe().image}}&quot;" class="image-error">error loading image</div>
  }
  <hr>
}

<h4 class="ingredients-heading">Ingredients</h4>
<ul class="ingredients">
  @for (s of recipe().sections; track $index) {
    @if (s.ingredients.length > 0) {
      <li class="section">
        <h5 class="name">{{s.name}}</h5>
        <ul class="ingredients">
          @for (i of s.ingredients; track $index) {
            <li class="ingredient">{{i.quantity}} {{i.unit}} of {{i.name}}</li>
          }
        </ul>
      </li>
    }
  }
</ul>

<hr>

<h4 class="directions-heading">Directions</h4>
<ul class="directions">
  @for (s of recipe().sections; track $index) {
    <li class="section">
      <h5 class="name">{{s.name}}</h5>
      <ol class="directions">
        @for (d of s.directions; track $index) {
          <li class="direction">{{d}}</li>
        }
      </ol>
    </li>
  }
</ul>

<hr>

<button (click)="editRecipe()">Edit Recipe</button>

@if (beingEdited) {
  <app-recipe-edit-form [(recipe)]="recipe" [(beingEdited)]="beingEdited"/>
}